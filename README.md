# Flying XMOS
Цей проект орієнтований на розробку стабілізатора для квадрокоптера на базі xCore-200 і є семестровою роботою 2-го курсу. 
Репозиторій містить три гілки - перша, ```master```, для коду на XMOS. Наразі там знаходить базова спроба читання даних через i2c та перетворення в кути даних вбудованого 
акселерометра.
На гілці ```arduino_drone``` знаходиться розроблений прототип для Arduino Mega 2560. на гілці ```synchronization_attempt``` - невдала спроба синхронізувати події для Arduino.


Всі примітки стосовно хардвару є в фінальній перезентації (06/2021): https://drive.google.com/file/d/1k-eXn0LlpznGVqDhbmPSbDRn9c5Tcm6j/view?usp=sharing

Проект складається з трьох основних етапів - збір квадрокоптера, налагодження циклу роботи, підбір коефіцієнтів для PID алгоритму який лежить в основі стабілізації.
Код проекту складається з трьох основних файлів - ```main.cpp```, ```globalvariables.h``` та ```motordrivers.h``` та ряду бібліотек (папка lib). В ```main.cpp``` знаходиться 
весь програмний цикл - обробка переривань, оголошення serial каналів (для BLE зв'язку та debug виводу). В ```globalvariables.h``` зазначені ключові керуючі змінні для роботи
PID, в ```motordrivers.h``` оголошені функції для керування двигунами.


Поточні коефіцієнти:   
P= 0,26; I= 0.0; D= 0.1.  
В коді нереалізовано PID для yaw через відсутність установки для його відлагодження, проте він може бути легко доданий дублікацією наявного коду для roll або pitch.

Алгоритм повертає % потужності, на яку повинна бути змінена поточна величина потужності. Для відлагодження і надсилання команд через BLE використовується додаток 
Arduino bluetooth.
 
